(this["webpackJsonpzoom-clone-livewire"]=this["webpackJsonpzoom-clone-livewire"]||[]).push([[0],{153:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(40),o=n.n(c),i=n(6),s=(n(103),n(52)),d=n(101),u=n(37),l=n(30),m=n(1);function j(){return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(s.a,{children:Object(m.jsxs)(u.a,{children:[Object(m.jsx)(s.a.Brand,{href:"https://signalwire.com",children:Object(m.jsx)("img",{src:"/swlogo.png",className:"d-inline-block align-top",style:{width:180},alt:"SignalWire Logo"})}),Object(m.jsx)(s.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(m.jsx)(s.a.Collapse,{id:"basic-navbar-nav",children:Object(m.jsxs)(d.a,{className:"me-auto",children:[Object(m.jsx)(d.a.Link,{href:"https://developer.signalwire.com",children:"Developer's Portal"}),Object(m.jsxs)(l.a,{title:"Tutorial",id:"basic-nav-dropdown",children:[Object(m.jsx)(l.a.Item,{href:"https://developer.signalwire.com/apis/docs/signalwire-communications-api",children:"Getting Started with the SignalWire Communications API"}),Object(m.jsx)(l.a.Item,{href:"https://developer.signalwire.com/apis/docs/signing-up-for-a-space",children:"Your First SignalWire Space"}),Object(m.jsx)(l.a.Item,{href:"https://developer.signalwire.com/apis/docs/getting-started-with-the-signalwire-video-api-1",children:"Getting Started with the SignalWire Video API"}),Object(m.jsx)(l.a.Divider,{}),Object(m.jsx)(l.a.Header,{children:"Making a Zoom clone with the SignalWire Video APIs"}),Object(m.jsx)(l.a.Item,{href:"https://developer.signalwire.com/apis/docs/making-a-zoom-clone-with-signalwire-video-apis",children:"1. Overview"}),Object(m.jsx)(l.a.Item,{href:"https://developer.signalwire.com/apis/docs/writing-a-backend-to-proxy-signalwire-video-rest-api",children:"2. Writing a backend to proxy SignalWire Video REST API"}),Object(m.jsx)(l.a.Item,{href:"https://developer.signalwire.com/apis/docs/writing-a-basic-react-frontend",children:"3. A basic React frontend"}),Object(m.jsx)(l.a.Item,{href:"https://developer.signalwire.com/apis/docs/working-with-microphones-cameras-and-speakers",children:"4. Working with microphones, cameras and speakers"}),Object(m.jsx)(l.a.Item,{href:"https://developer.signalwire.com/apis/docs/changing-layouts",children:"5. Changing layouts"}),Object(m.jsx)(l.a.Item,{href:"https://developer.signalwire.com/apis/docs/sharing-screen",children:"6. Screen sharing"}),Object(m.jsx)(l.a.Item,{href:"https://developer.signalwire.com/apis/docs/moderator-controls",children:"7. Listing members and Moderator controls"})]})]})})]})})})}var b=n(12),h=n(21),p=n(23),v=n(43),f=n(14);function x(e){var t=e.onJoin,n=void 0===t?function(){}:t,a=Object(r.useState)(""),c=Object(i.a)(a,2),o=c[0],s=c[1],d=Object(r.useState)(""),l=Object(i.a)(d,2),j=l[0],b=l[1];return Object(m.jsx)(u.a,{children:Object(m.jsx)(v.a,{className:"justify-content-md-center",children:Object(m.jsxs)(f.a,{lg:4,className:"mt-5 mb-2",children:[Object(m.jsx)("h3",{children:"Join a Room"}),Object(m.jsxs)(h.a,{onSubmit:function(e){return e.preventDefault()},children:[Object(m.jsxs)(h.a.Group,{className:"mb-3",controlId:"VideoCallName",children:[Object(m.jsx)(h.a.Label,{children:"Your Name"}),Object(m.jsx)(h.a.Control,{type:"text",placeholder:"Your Name",onChange:function(e){return s(e.target.value)},value:o,pattern:"[^' ']+"})]}),Object(m.jsxs)(h.a.Group,{className:"mb-3",controlId:"VideoRoom",children:[Object(m.jsx)(h.a.Label,{children:"Room Name"}),Object(m.jsx)(h.a.Control,{type:"text",placeholder:"Room Name",onChange:function(e){return b(e.target.value)},value:j,pattern:"[^' ']+",required:!0})]}),Object(m.jsx)(p.a,{variant:"primary",type:"submit",onClick:function(){""!==o&&""!==j?n({name:o,room:j}):alert("Please Fill all fields (todo use bootstrap alert or form error messages)")},children:"Join"})]})]})})})}function O(e){var t=e.roomName,n=e.onJoin,a=void 0===n?function(){}:n,c=e.mod,o=void 0!==c&&c,s=Object(r.useState)(""),d=Object(i.a)(s,2),l=d[0],j=d[1],b=Object(r.useState)(!1),x=Object(i.a)(b,2),O=x[0],g=x[1];return Object(m.jsx)(u.a,{children:Object(m.jsx)(v.a,{className:"justify-content-md-center",children:Object(m.jsxs)(f.a,{lg:4,children:[Object(m.jsxs)("h4",{children:["Join '",t,"'",o&&!O?" as moderator":""]}),Object(m.jsxs)(h.a,{onSubmit:function(e){return e.preventDefault()},children:[Object(m.jsxs)(h.a.Group,{className:"mb-3",controlId:"VideoCallName",children:[Object(m.jsx)(h.a.Label,{children:"Your Name"}),Object(m.jsx)(h.a.Control,{type:"text",placeholder:"Your Name",onChange:function(e){return j(e.target.value)},value:l,pattern:"[^' ']+",required:!0})]}),o&&Object(m.jsx)(h.a.Check,{type:"checkbox",label:"Please add me without moderator privileges",checked:O,onChange:function(e){g(e.target.checked),console.log(e.target.checked)}}),Object(m.jsx)(p.a,{className:"mt-1",variant:"primary",type:"submit",onClick:function(){""!==l?a({name:l,room:t,mod:o&&!O}):alert("Please Fill all fields (todo use bootstrap alert or form error messages)")},children:"Join"})]})]})})})}var g=n(3),k=n.n(g),w=n(9),y=n(19),I=n(2),C=n(116),S=n.n(C),L=n(81),M=n(47),N="https://lr3ti.sse.codesandbox.io";function _(e){var t=e.joinDetails,n=void 0===t?{room:"signalwire",name:"John Doe",mod:!0}:t,a=e.onRoomInit,c=void 0===a?function(){}:a,o=e.onRoomUpdate,s=void 0===o?function(){}:o,d=e.onMemberListUpdate,u=void 0===d?function(){}:d,l=e.width,j=void 0===l?400:l,b=e.eventLogger,h=void 0===b?console.log:b,p=Object(r.useState)("true"),v=Object(i.a)(p,2),f=v[0],x=v[1],O=Object(r.useState)(!1),g=Object(i.a)(O,2),y=g[0],C=g[1],_=Object(r.useRef)(null),T=Object(r.useRef)([]),P=Object(L.a)();return Object(r.useEffect)((function(){function e(){return(e=Object(w.a)(k.a.mark((function e(){var t,r,a,o,i,d;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(!0),t=null,e.next=4,S.a.post(N+"/get_token",{user_name:n.name,room_name:n.room,mod:n.mod});case 4:return t=(t=e.sent).data.token,r=null,e.next=9,M.a.createRoomObject({token:t,rootElementId:"temp",video:!0});case 9:return D({room:r=e.sent,thisMemberId:_,memberList:T,onMemberListUpdate:u,onRoomUpdate:s,eventLogger:h}),e.next=13,r.join();case 13:if(!n.mod){e.next=19;break}return e.next=16,r.getLayouts();case 16:e.t0=e.sent.layouts,e.next=20;break;case 19:e.t0=[];case 20:return a=e.t0,e.next=23,M.b.getCameraDevicesWithPermissions();case 23:return o=e.sent,e.next=26,M.b.getMicrophoneDevicesWithPermissions();case 26:return i=e.sent,e.next=29,M.b.getSpeakerDevicesWithPermissions();case 29:return d=e.sent,x(!1),c(r,a,o,i,d),e.next=34,U({onRoomUpdate:s,eventLogger:h});case 34:case"end":return e.stop()}}),e)})))).apply(this,arguments)}y||function(){e.apply(this,arguments)}()}),[n,h,u,c,s,y]),Object(m.jsxs)("div",{style:R.videoContainer,children:[f&&Object(m.jsx)("div",{style:Object(I.a)(Object(I.a)({},R.videoPlaceholder),{},{minHeight:.5*P.height}),children:"Loading ..."}),Object(m.jsx)("div",{id:"temp",style:{width:j,minHeight:.5*P.height}})]})}var R={videoContainer:{position:"relative",width:"100%",display:"flex",alignItems:"center",justifyContent:"center"},videoPlaceholder:{position:"absolute",background:"rgba(0,0,0,0.5)",color:"#fff",display:"flex",alignItems:"center",justifyContent:"center"}};function D(e){var t=e.room,n=e.thisMemberId,r=e.memberList,a=e.onMemberListUpdate,c=e.onRoomUpdate,o=e.eventLogger;t.on("room.joined",function(){var e=Object(w.a)(k.a.mark((function e(t){var i;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.current=t.member_id,r.current=t.room.members,i=r.current.find((function(e){return e.id===t.member_id})),c({thisMemberId:t.member_id,member:i}),a(t.room.members),console.log(t.room.members),o("You have joined the room.");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t.on("room.updated",function(){var e=Object(w.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o("Room has been updated");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t.on("member.joined",function(){var e=Object(w.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o(t.member.name+" has joined the room."),r.current.push(t.member),console.log(r.current),a(r.current);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t.on("member.updated",function(){var e=Object(w.a)(k.a.mark((function e(t){var n,c;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==(n=r.current.find((function(e){return e.id===t.member.id})))){e.next=3;break}return e.abrupt("return");case 3:n=Object(I.a)(Object(I.a)({},n),t.member),(c=r.current.filter((function(e){return e.id!==t.member.id}))).push(n),r.current=c,a(Object(y.a)(r.current));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t.on("layout.changed",function(){var e=Object(w.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c({layout:t.layout.name});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t.on("member.left",function(){var e=Object(w.a)(k.a.mark((function e(t){var i,s;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=r.current.find((function(e){return e.id===t.member.id})),s=r.current.filter((function(e){return e.id!==t.member.id})),void 0!==i){e.next=4;break}return e.abrupt("return");case 4:o((null===i||void 0===i?void 0:i.name)+" has left the room."),n.current===(null===i||void 0===i?void 0:i.id)&&(console.log("It is you who has left the room"),c({left:!0})),r.current=s,a(r.current),console.log(r.current);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}function U(e){return T.apply(this,arguments)}function T(){return(T=Object(w.a)(k.a.mark((function e(t){var n,r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.onRoomUpdate,r=t.eventLogger,e.next=3,M.b.createDeviceWatcher({targets:["camera"]});case 3:return e.sent.on("changed",(function(e){r("The list of camera devices has changed"),n({cameras:e.devices})})),e.next=7,M.b.createDeviceWatcher({targets:["microphone"]});case 7:return e.sent.on("changed",(function(e){r("The list of microphone devices has changed"),n({microphones:e.devices})})),e.next=11,M.b.createDeviceWatcher({targets:["speaker"]});case 11:e.sent.on("changed",(function(e){r("The list of speakers has changed"),n({speakers:e.devices})}));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(e){var t=e.items,n=void 0===t?[]:t,r=e.placeholder,a=void 0===r?"Select from below":r,c=e.onChange,o=void 0===c?function(){}:c,i=e.value;return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(h.a.Select,{onChange:function(e){o(e.target.value)},value:i,children:[Object(m.jsx)("option",{children:a}),n.map((function(e){return"object"===typeof e?Object(m.jsx)("option",{value:e.value,children:e.name},e.value):Object(m.jsx)("option",{value:e,children:e},e)}))]})})}var W=n(119),F=n(92);function J(e){var t=e.log,n=void 0===t?{}:t,a=Object(r.useState)([]),c=Object(i.a)(a,2),o=c[0],s=c[1],d=Object(r.useRef)(0);return Object(r.useEffect)((function(){null!==n&&(console.log("Got log ",n),s((function(e){return[].concat(Object(y.a)(e),[{index:d.current,title:n.title,text:n.text,variant:n.variant}])})),d.current+=1)}),[n]),Object(m.jsx)(W.a,{position:"top-end",className:"m-1",style:{zIndex:"100000"},children:o.map((function(e){var t,n;return Object(m.jsxs)(F.a,{autohide:!0,delay:4e3,onClose:function(t){console.log("Closing Event index",e.index),s((function(t){return t.filter((function(t){return t.index!==e.index}))}))},className:"m-1",bg:null!==(t=e.variant)&&void 0!==t?t:e.variant,children:[Object(m.jsx)(F.a.Header,{children:null!==(n=e.title)&&void 0!==n?n:"Event"}),Object(m.jsx)(F.a.Body,{children:e.text})]},e.index)}))})}var E=n(13);function A(e){var t=e.room,n=void 0===t?"room":t,r=e.mod,a=e.eventLogger,c=void 0===a?function(e){console.log("InviteEvent",e)}:a;function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal";return"normal"===t?window.location.protocol+"//"+window.location.host+"/invite?r="+e:"mod"===t?o(e)+"&m=mod":void 0}return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(E.a,{drop:"up",children:[Object(m.jsx)(E.a.Toggle,{variant:"success",id:"dropdown-basic",children:"Invite"}),Object(m.jsxs)(E.a.Menu,{children:[Object(m.jsx)(E.a.Header,{children:"As guest"}),Object(m.jsx)(E.a.Item,{onClick:function(){var e=document.createElement("textarea");document.body.appendChild(e),e.value=o(n),e.select(),document.execCommand("copy"),document.body.removeChild(e),c("The link "+o(n)+" copied to clipboard.","Link copied","info")},children:o(n)}),r&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(E.a.Header,{children:"As moderator"}),Object(m.jsx)(E.a.Item,{onClick:function(){var e=document.createElement("textarea");document.body.appendChild(e),e.value=o(n,"mod"),e.select(),document.execCommand("copy"),document.body.removeChild(e),c("The link "+o(n,"mod")+" copied to clipboard.","Link copied","info")},children:o(n,"mod")})]})]})]})})}var H=n(90),V=n(91),G=n(34),Y=n(64),z=n(93);function B(e){var t=e.memberList,n=e.onMemberUpdate,r=void 0===n?function(){}:n,a=e.mod;return void 0!==a&&a?Object(m.jsxs)(Y.a,{style:{width:"100%"},children:[Object(m.jsx)(Y.a.Header,{children:"Participants"}),Object(m.jsx)(z.a,{variant:"flush",children:t.map((function(e){return Object(m.jsx)(z.a.Item,{style:{padding:"2px 0"},children:Object(m.jsx)(u.a,{children:Object(m.jsxs)(v.a,{children:[Object(m.jsx)(f.a,{style:{display:"flex",alignItems:"center"},children:e.name+" "}),Object(m.jsxs)(f.a,{md:"auto",children:[Object(m.jsx)(V.a,{placement:"bottom",overlay:Object(m.jsx)(H.a,{variant:"info",children:e.audio_muted?"Unmute Audio":"Mute Audio"}),children:Object(m.jsx)(p.a,{style:{padding:"2px 5px",marginLeft:1},variant:e.audio_muted?"danger":"success",onClick:function(){e.audio_muted?r({action:"unmute_audio",id:e.id}):r({action:"mute_audio",id:e.id})},children:e.audio_muted?Object(m.jsx)(G.b,{}):Object(m.jsx)(G.c,{})})},e.id+"aud"),Object(m.jsx)(V.a,{placement:"bottom",overlay:Object(m.jsx)(H.a,{variant:"info",children:e.video_muted?"Unmute Video":"Mute Video"}),children:Object(m.jsx)(p.a,{style:{padding:"2px 5px",marginLeft:1},variant:e.video_muted?"danger":"success",onClick:function(){e.video_muted?r({action:"unmute_video",id:e.id}):r({action:"mute_video",id:e.id})},children:e.video_muted?Object(m.jsx)(G.d,{}):Object(m.jsx)(G.e,{})})},e.id+"vid"),Object(m.jsx)(V.a,{placement:"bottom",overlay:Object(m.jsx)(H.a,{variant:"info",children:"Remove Member"}),children:Object(m.jsx)(p.a,{style:{padding:"2px 5px",marginLeft:1},variant:"danger",onClick:function(){r({action:"remove",id:e.id})},children:Object(m.jsx)(G.a,{})})},e.id)]})]})})},e.id)}))})]}):Object(m.jsxs)(Y.a,{children:[Object(m.jsx)(Y.a.Header,{children:"Participants"}),t.map((function(e){return Object(m.jsx)(z.a.Item,{children:e.name+" "},e.id)}))]})}var q=n(120);function Z(e){var t=e.muted,n=void 0!==t&&t,r=e.setMuted,a=void 0===r?function(){}:r,c=e.muteIcon,o=void 0===c?function(){return Object(m.jsx)(m.Fragment,{})}:c,i=e.unmuteIcon,s=void 0===i?function(){return Object(m.jsx)(m.Fragment,{})}:i,d=e.deviceName,u=void 0===d?"device":d,l=e.devices,j=void 0===l?[]:l,b=e.pickDevice,h=void 0===b?function(){}:b;return Object(m.jsxs)(E.a,{drop:"up",as:q.a,children:[Object(m.jsx)(p.a,{variant:n?"danger":"success",onClick:Object(w.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a(!n);case 1:case"end":return e.stop()}}),e)}))),children:n?s():o()}),Object(m.jsx)(E.a.Toggle,{split:!0,variant:n?"danger":"success",id:"dropdown-split-basic"}),Object(m.jsxs)(E.a.Menu,{children:[Object(m.jsxs)(E.a.Header,{children:["Select ",u]}),j.map((function(e){return Object(m.jsx)(E.a.Item,{onClick:function(){h(e.deviceId)},children:e.label},e.deviceId)}))]})]})}function K(e){var t=e.roomDetails,n=Object(L.a)();console.log(n.width);var a=Object(b.g)(),c=Object(r.useState)([]),o=Object(i.a)(c,2),d=o[0],l=o[1],j=Object(r.useState)(),h=Object(i.a)(j,2),x=h[0],O=h[1],g=Object(r.useState)([]),y=Object(i.a)(g,2),I=y[0],C=y[1],S=Object(r.useState)([]),M=Object(i.a)(S,2),N=M[0],R=M[1],D=Object(r.useState)([]),U=Object(i.a)(D,2),T=U[0],W=U[1],F=Object(r.useState)({}),E=Object(i.a)(F,2),H=E[0],V=E[1],Y=Object(r.useState)(void 0),z=Object(i.a)(Y,2),q=z[0],K=z[1],Q=Object(r.useState)(null),X=Object(i.a)(Q,2),$=X[0],ee=X[1],te=Object(r.useState)(null),ne=Object(i.a)(te,2),re=ne[0],ae=ne[1],ce=Object(r.useState)(!1),oe=Object(i.a)(ce,2),ie=oe[0],se=oe[1],de=Object(r.useState)(!1),ue=Object(i.a)(de,2),le=ue[0],me=ue[1],je=Object(r.useState)(!1),be=Object(i.a)(je,2),he=be[0],pe=be[1],ve=Object(r.useState)([{id:1,name:"test user 1"},{id:2,name:"test user 2"}]),fe=Object(i.a)(ve,2),xe=fe[0],Oe=fe[1],ge=Object(r.useState)(!0),ke=Object(i.a)(ge,2)[1],we=function(){return ke((function(e){return!e}))},ye=Object(r.useCallback)((function(e,t,n){console.log("Displaying toast for",e,t,n),ee({text:e,title:t,variant:n})}),[]),Ie=Object(r.useCallback)((function(e,t,n,r,a){l(t),C(n),R(r),W(a),V(e)}),[]),Ce=Object(r.useCallback)((function(e){if(void 0!==e.cameras&&C(e.cameras),void 0!==e.speakers&&W(e.speakers),void 0!==e.microphones&&R(e.microphones),!0===e.left&&a.push("/"),void 0!==e.thisMemberId&&ae(e.thisMemberId),void 0!==e.layout&&O(e.layout),void 0!==e.member){var t=e.member;console.log("Current User",t),se(t.audio_muted),me(t.video_muted),pe(t.deaf)}}),[a]);return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(u.a,{fluid:!0,children:Object(m.jsxs)(v.a,{className:"mt-3",children:[Object(m.jsxs)(f.a,{style:{backgroundColor:"black"},className:"justify-content-md-center",sm:"auto",xs:"auto",children:[t.mod?"Moderator":"normal uwer",Object(m.jsx)(_,{onRoomInit:Ie,onRoomUpdate:Ce,joinDetails:t,eventLogger:ye,width:.65*n.width,onMemberListUpdate:Object(r.useCallback)((function(e){Oe(e)}),[])}),Object(m.jsx)(J,{log:$})]}),Object(m.jsx)(f.a,{className:"col",children:Object(m.jsx)(B,{memberList:xe,mod:t.mod,onMemberUpdate:function(){var e=Object(w.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("remove"!==t.action){e.next=8;break}return console.log("Removing Member",t.id),e.next=4,H.removeMember({memberId:t.id});case 4:console.log("Removed member",t.id),t.id===re&&a.push("/"),e.next=30;break;case 8:if("mute_video"!==t.action){e.next=14;break}return e.next=11,H.videoMute({memberId:t.id});case 11:t.id===re&&me(!0),e.next=30;break;case 14:if("mute_audio"!==t.action){e.next=20;break}return e.next=17,H.audioMute({memberId:t.id});case 17:t.id===re&&se(!0),e.next=30;break;case 20:if("unmute_audio"!==t.action){e.next=26;break}return e.next=23,H.audioUnmute({memberId:t.id});case 23:t.id===re&&se(!1),e.next=30;break;case 26:if("unmute_video"!==t.action){e.next=30;break}return e.next=29,H.videoUnmute({memberId:t.id});case 29:t.id===re&&me(!1);case 30:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})})]})}),Object(m.jsx)(s.a,{fixed:"bottom",children:Object(m.jsx)(u.a,{fluid:!0,className:"justify-content-md-center",children:Object(m.jsxs)(v.a,{children:[Object(m.jsx)(f.a,{xs:"auto",style:{marginTop:5},children:Object(m.jsx)(Z,{muted:le,setMuted:function(){var e=Object(w.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:me(!!t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),deviceName:"Camera",devices:I,pickDevice:function(){var e=Object(w.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.updateCamera({deviceId:t});case 2:we();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),muteIcon:function(){return Object(m.jsx)(G.e,{})},unmuteIcon:function(){return Object(m.jsx)(G.d,{})}})}),Object(m.jsx)(f.a,{xs:"auto",style:{marginTop:5},children:Object(m.jsx)(Z,{muted:ie,setMuted:function(){var e=Object(w.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=6;break}return e.next=3,H.audioMute();case 3:se(!0),e.next=9;break;case 6:return e.next=8,H.audioUnmute();case 8:se(!1);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),deviceName:"Microphone",devices:N,pickDevice:function(){var e=Object(w.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.updateMicrophone({deviceId:t});case 2:we();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),muteIcon:function(){return Object(m.jsx)(G.c,{})},unmuteIcon:function(){return Object(m.jsx)(G.b,{})}})}),Object(m.jsx)(f.a,{xs:"auto",style:{marginTop:5},children:Object(m.jsx)(Z,{muted:he,setMuted:function(){var e=Object(w.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=6;break}return e.next=3,H.deaf();case 3:pe(!0),e.next=9;break;case 6:return e.next=8,H.undeaf();case 8:pe(!1);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),deviceName:"Speaker",devices:T,pickDevice:function(){var e=Object(w.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.updateSpeaker({deviceId:t});case 2:we();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),muteIcon:function(){return Object(m.jsx)(G.f,{})},unmuteIcon:function(){return Object(m.jsx)(G.g,{})}})}),t.mod&&Object(m.jsx)(f.a,{xs:"auto",style:{marginTop:5},children:Object(m.jsx)(P,{items:d,placeholder:"Select Layout",value:x,onChange:function(){var e=Object(w.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("Layout: ",t),O(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})}),Object(m.jsx)(f.a,{xs:"auto",style:{marginTop:5},children:Object(m.jsx)(A,{mod:t.mod,room:t.room,eventLogger:ye})}),Object(m.jsx)(f.a,{xs:"auto",style:{marginTop:5},children:Object(m.jsx)(p.a,{onClick:Object(w.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:void 0===q?(null,K(null)):(q=void 0,K(void 0));case 1:case"end":return e.stop()}}),e)}))),children:void 0===q?"Share Screen":"Turn Off Screen Sharing"})}),Object(m.jsx)(f.a,{xs:"auto",style:{marginTop:5},children:Object(m.jsx)(p.a,{onClick:Object(w.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!H||!H.leave){e.next=3;break}return e.next=3,H.leave();case 3:a.push("/");case 4:case"end":return e.stop()}}),e)}))),variant:"danger",children:"Leave"})})]})})})]})}var Q=function(){var e=new URLSearchParams(Object(b.h)().search),t=Object(b.g)(),n=Object(r.useState)({}),a=Object(i.a)(n,2),c=a[0],o=a[1];return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(j,{}),Object(m.jsxs)(b.d,{children:[Object(m.jsx)(b.b,{path:"/in-call",children:void 0===c.name||void 0===c.room?Object(m.jsx)(b.a,{to:"/"}):Object(m.jsx)(K,{roomDetails:c})}),Object(m.jsx)(b.b,{path:"/invite",children:Object(m.jsx)(O,{mod:"mod"===e.get("m"),roomName:e.get("r"),onJoin:function(e){var n=e.room,r=e.name,a=e.mod;console.log(r,n,a),o({name:r,room:n,mod:a}),console.log(t),t.push("/in-call")}})}),Object(m.jsx)(b.b,{path:"/",children:Object(m.jsx)(x,{onJoin:function(e){var n=e.room,r=e.name;console.log(r,n),o({name:r,room:n,mod:!0}),console.log(t),t.push("/in-call")}})})]})]})},X=n(98);o.a.render(Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(X.a,{children:Object(m.jsx)(Q,{})})}),document.getElementById("root"))}},[[153,1,2]]]);
//# sourceMappingURL=main.b3e7a856.chunk.js.map